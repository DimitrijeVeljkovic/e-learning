<ion-grid class="main-grid">
  <ion-row>
    <ion-col size="12" sizeMd="6" offsetMd="3">
      <ion-card>
        <ion-card-header>
          <ion-card-title class="ion-text-center">Create an account</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <form #signupForm="ngForm" (ngSubmit)="handleSignup(signupForm)">
            <ion-input 
              [disabled]="shouldShowVerificationCard"
              label="First Name"
              label-placement="floating"
              fill="outline"
              placeholder="Enter first name..."
              type="text"
              class="ion-margin-bottom"
              name="firstName"
              ngModel
              required>
            </ion-input>
            <ion-input 
              [disabled]="shouldShowVerificationCard"
              label="Last Name"
              label-placement="floating"
              fill="outline"
              placeholder="Enter last name..."
              type="text"
              class="ion-margin-bottom"
              name="lastName"
              ngModel
              required>
            </ion-input>
            <ion-input 
              [disabled]="shouldShowVerificationCard"
              label="Username"
              label-placement="floating"
              fill="outline"
              placeholder="Enter username..."
              type="text"
              class="ion-margin-bottom"
              name="userName"
              ngModel
              required>
            </ion-input>
            <ion-input 
              [disabled]="shouldShowVerificationCard"
              label="Email"
              label-placement="floating"
              fill="outline"
              placeholder="Enter email..."
              type="email"
              class="ion-margin-bottom"
              name="email"
              ngModel
              required
              email>
            </ion-input>
            <ion-input
              [disabled]="shouldShowVerificationCard"
              label="Password"
              label-placement="floating"
              fill="outline"
              placeholder="Enter password..."
              type="password"
              class="ion-margin-bottom"
              name="password"
              ngModel
              required
              minlength="8">
            </ion-input>
            <div class="actions">
              <ion-button type="ngSubmit" [disabled]="!signupForm.valid || shouldShowVerificationCard">Sign Up</ion-button>
              <span>Already have an account? <a [routerLink]="['/login']">Log in</a></span>
            </div>
          </form>
        </ion-card-content>
      </ion-card>
      <ion-card *ngIf="shouldShowVerificationCard">
        <ion-card-header>
          <ion-card-title class="ion-text-center">Verification</ion-card-title>
          <ion-card-subtitle class="ion-text-center">Verification code has been sent to the provided email address.</ion-card-subtitle>
        </ion-card-header>
        <ion-card-content>
          <form #verificationForm="ngForm" (ngSubmit)="handleVerification(verificationForm)">
            <ion-input 
              label="Verification code"
              label-placement="floating"
              fill="outline"
              placeholder="Enter verification code..."
              type="text"
              class="ion-margin-bottom"
              name="verificationCode"
              ngModel
              required
              minlength="6"
              maxlength="6">
            </ion-input>
            <div class="actions">
              <ion-button type="ngSubmit" [disabled]="!verificationForm.valid">Verify</ion-button>
            </div>
          </form>
        </ion-card-content>
      </ion-card>
    </ion-col>
  </ion-row>
</ion-grid>
